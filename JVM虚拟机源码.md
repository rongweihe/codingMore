# JVM Java 虚拟机内存模型
Java虚拟机（JVM）内存模型（Java Memory Model, JMM）是Java语言规范的一部分，它定义了线程如何与内存进行交互，以及如何保证线程之间的内存可见性和操作顺序。

JMM是Java并发编程的基础，它解决了多线程环境下的内存一致性问题。

JVM内存模型的主要组成部分

- 主内存（Main Memory）
主内存是所有线程共享的内存区域，存储了Java对象的实例和数组等数据。所有线程对共享变量的读写操作都必须在主内存中进行。

- 线程工作内存（Thread Working Memory）
每个线程都有自己的工作内存，工作内存中存储了线程从主内存中拷贝的共享变量的副本。线程对共享变量的读写操作都是在工作内存中进行的，而不是直接在主内存中操作。

- 内存操作规则
JMM定义了线程对共享变量的操作规则，这些规则确保了线程之间的内存可见性和操作顺序。主要规则包括：
- 原子性（Atomicity）：对共享变量的读写操作必须是原子性的，即不可分割的。
- 可见性（Visibility）：一个线程对共享变量的修改必须对其他线程可见。
- 有序性（Ordering）：线程中的操作必须按照程序的顺序执行，但JMM允许编译器和处理器对操作进行重排序，只要不改变程序的执行结果。
